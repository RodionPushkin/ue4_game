DROP TABLE "Friend", "User", "UserStatus", "UserStatistics", "Server", "Map";
CREATE TABLE "UserStatus" (
    "ID" BIGSERIAL PRIMARY KEY,
    "Title" VARCHAR(100)
);
INSERT INTO "UserStatus" ("Title") VALUES ('offline'), ('online'), ('banned');
CREATE TABLE "UserStatistics" (
    "ID" BIGSERIAL PRIMARY KEY,
    "Title" VARCHAR(100)
);
CREATE TABLE "User" (
    "ID" BIGSERIAL PRIMARY KEY,
    "Email" VARCHAR(129) NOT NULL,
    "Token" VARCHAR(32) NOT NULL,
    "Nickname" VARCHAR(32) NOT NULL,
    "IDUserStatistics" BIGINT NOT NULL REFERENCES "UserStatistics" ("ID"),
    "IDUserStatus" BIGINT NOT NULL REFERENCES "UserStatus" ("ID") DEFAULT 1
);
CREATE TABLE "Friend" (
    "ID" BIGSERIAL PRIMARY KEY,
    "IDUserSender" BIGINT NOT NULL REFERENCES "User" ("ID"),
    "IDUserFriend" BIGINT NOT NULL REFERENCES "User" ("ID")
);
CREATE TABLE "Map" (
    "ID" BIGSERIAL PRIMARY KEY,
    "Title" VARCHAR(100) NOT NULL,
    "MapName" VARCHAR(1000) NOT NULL,
    "IsDeleted" BOOLEAN DEFAULT FALSE
);
CREATE TABLE "Server" (
    "IP" VARCHAR(250) PRIMARY KEY,
    "ConnectedUsers" INT NOT NULL DEFAULT 0,
    "IDMap" BIGINT REFERENCES "Map" ("ID"),
    "Status" BOOLEAN NOT NULL DEFAULT FALSE,
    "Type" BOOLEAN NOT NULL DEFAULT FALSE
);
